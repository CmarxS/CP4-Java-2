# Esportes API & Web — CRUD de Brinquedos (Spring Boot + Oracle + Thymeleaf)
 
> Projeto completo com **Spring Boot**, **JPA**, **Oracle**, **Lombok**, **HATEOAS** e **Thymeleaf**.  
> Parte 1: API RESTful com endpoints CRUD testados via Postman/Insomnia.  
> Parte 2: Interface Web com Thymeleaf (MVC) e deploy.  
 
---
 
## Sumário
- [Descrição](#descrição)
- [Stack e versões](#stack-e-versões)
- [Dependências](#dependências)
- [Estrutura do projeto](#estrutura-do-projeto)
- [Configuração (application.properties)](#configuração-applicationproperties)
- [Banco de dados (DDL Oracle)](#banco-de-dados-ddl-oracle)
- [Entidade (Model)](#entidade-model)
- [Parte 1 — API REST](#parte-1--api-rest)
  - [Endpoints (CRUD)](#endpoints-crud)
  - [Exemplos de requisições (cURL/Postman)](#exemplos-de-requisições-curlpostman)
  - [HATEOAS](#hateoas-links)
- [Parte 2 — MVC Web com Thymeleaf](#parte-2--mvc-web-com-thymeleaf)
  - [Páginas HTML](#páginas-html)
  - [Estilo (CSS)](#estilo-css)
  - [Fluxo da interface](#fluxo-da-interface)
- [Deploy](#deploy)
- [Integrantes e entrega](#integrantes-e-entrega)
- [Prints e evidências](#prints-e-evidências)
 
---
 
## Descrição
Aplicação para uma **empresa de brinquedos esportivos** (crianças até 12 anos), com **CRUD completo** sobre a entidade `Brinquedo`.
 
- **Parte 1:** API REST com operações CRUD + HATEOAS.  
- **Parte 2:** Interface Web (Spring MVC + Thymeleaf) para CRUD via navegador.
 
Banco de dados alvo: **Oracle**.  
 
**Campos obrigatórios:** `id`, `nome`, `tipo`, `classificacao`, `tamanho`, `preco`.  
 
Base URLs:  
- Local: `http://localhost:8081/`  
- Deploy: `https://cp4-java-g7er.onrender.com`  
 
---
 
## Stack e versões
- **Java**: 21  
- **Spring Boot**: 3.5.4  
- **Banco**: Oracle  
- **Build**: Maven  
 
---
 
## Dependências
- `spring-boot-starter-web`  
- `spring-boot-starter-data-jpa`  
- `spring-boot-starter-hateoas`  
- `spring-boot-starter-validation`  
- `spring-boot-starter-thymeleaf`  
- `lombok`  
- `ojdbc11` (Oracle JDBC)  
- `spring-boot-devtools`  
 
---
 
## Estrutura do projeto
```
src/main/java/br/com/fiap/esportes
 ├─ controller/          # BrinquedoController (API + MVC)
 ├─ model/               # Brinquedo (Entity)
 ├─ repository/          # BrinquedoRepository (JpaRepository)
 └─ EsportesApplication  # classe principal
 
src/main/resources
 ├─ static/css/style.css # estilos customizados (preto e verde)
 ├─ templates/           # páginas Thymeleaf (listar, novo, editar, detalhe)
 └─ application.properties
```
 
---
 
## Configuração (application.properties)
 
```properties
server.port=8081
 
spring.datasource.url=jdbc:oracle:thin:@oracle.fiap.com.br:1521:orcl
spring.datasource.username=SEU_USUARIO
spring.datasource.password=SUA_SENHA
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
 
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL
 
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
```
 
---
 
## Banco de dados (DDL Oracle)
```sql
CREATE TABLE TDS_TB_BRINQUEDO (
  ID            NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NOME          VARCHAR2(100)   NOT NULL,
  TIPO          VARCHAR2(50)    NOT NULL,
  CLASSIFICACAO VARCHAR2(50)    NOT NULL,
  TAMANHO       VARCHAR2(50)    NOT NULL,
  PRECO         NUMBER(10,2)    NOT NULL
);
```
 
---
 
## Entidade (Model)
 
```java
@Entity
@Table(name = "TDS_TB_BRINQUEDO")
@Data
@NoArgsConstructor
@AllArgsConstructor
public class Brinquedo {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
 
    private String nome;
    private String tipo;
    private String classificacao;
    private String tamanho;
    private Double preco;
}
```
 
---
 
## Parte 1 — API REST
 
### Endpoints (CRUD)
- **GET** `/brinquedos` — lista todos  
- **GET** `/brinquedos/{id}` — detalhe por id  
- **POST** `/brinquedos` — cria novo  
- **PUT** `/brinquedos/{id}` — atualiza todos os campos  
- **PATCH** `/brinquedos/{id}` — atualiza parcial  
- **DELETE** `/brinquedos/{id}` — exclui por id  
 
---
 
### Exemplos de requisições (cURL/Postman)
**Criar**
```bash
curl -X POST http://localhost:8081/brinquedos -H "Content-Type: application/json" -d '{
  "nome": "Bola de Futebol Infantil",
  "tipo": "Bola",
  "classificacao": "5-8 anos",
  "tamanho": "3",
  "preco": 79.90
}'
```
 
**Listar todos**
```bash
curl http://localhost:8081/brinquedos
```
 
**Buscar por id**
```bash
curl http://localhost:8081/brinquedos/1
```
 
---
 
### HATEOAS (links)
 
```json
{
  "id": 1,
  "nome": "Bola de Futebol Infantil",
  "tipo": "Bola",
  "classificacao": "5-8 anos",
  "tamanho": "3",
  "preco": 79.9,
  "_links": {
    "self": { "href": "http://localhost:8081/brinquedos/1" },
    "update": { "href": "http://localhost:8081/brinquedos/1" },
    "delete": { "href": "http://localhost:8081/brinquedos/1" }
  }
}
```
 
---
 
## Parte 2 — MVC Web com Thymeleaf
 
### Páginas HTML
- **`listarBrinquedos.html`**: tabela com todos os brinquedos + botão **Novo Brinquedo** centralizado.  
- **`novoBrinquedo.html`**: formulário para cadastro.  
- **`editarBrinquedo.html`**: formulário para edição.  
- **`detalheBrinquedo.html`**: visualização detalhada de 1 brinquedo.  
 
### Estilo (CSS)
Arquivo: `static/css/style.css`  
- **Tema preto e verde** (fundo escuro, destaques em verde).  
- **Botão "Novo Brinquedo" centralizado** na parte inferior da página.  
- Tabelas estilizadas com `hover` e linhas alternadas.  
- Formulários responsivos.  
 
### Fluxo da interface
1. Usuário acessa `/brinquedos` → lista todos.  
2. Botão **Novo Brinquedo** → abre formulário de criação.  
3. Ações: **Detalhes**, **Editar**, **Excluir** em cada linha.  
4. Após salvar/editar, o usuário é redirecionado para a lista.  
 
---
 
## Deploy
1. Gerar JAR:  
   ```bash
   mvn clean package -DskipTests
   ```
2. Definir variáveis de ambiente:  
   - `SPRING_DATASOURCE_URL`  
   - `SPRING_DATASOURCE_USERNAME`  
   - `SPRING_DATASOURCE_PASSWORD`
3. Executar:  
   ```bash
   java -jar target/esportes-0.0.1-SNAPSHOT.jar
   ```
4. Plataformas usadas: **Render** (API) e **Render/GitHub Pages** (Web).  
 
---
 
## Integrantes e entrega
```
RM555997 - Caio Marques
RM558640 - Caio Amarante
RM556325 - Felipe Camargo Revolta e Souza
```
 
IDE utilizada: **IntelliJ**
 
---
 
## Prints e evidências
 
### API (Postman/Insomnia)
- GET All  
- GET by ID  
- POST  
- PUT  
- DELETE  
- PATCH  
 
### Web (Thymeleaf)
- Listagem com tabela (preto e verde).  
- Botão "Novo Brinquedo" centralizado.  
- Formulário de cadastro.  
- Página de edição.  
- Página de detalhes.  
 
---
 
### Como rodar localmente (resumo)
1. Configure o `application.properties` (URL, usuário e senha Oracle).  
2. Garanta a tabela criada no Oracle (DDL acima).  
3. Rode: `mvn spring-boot:run` ou pelo IDE.  
4. Teste: `GET http://localhost:8081/brinquedos`.